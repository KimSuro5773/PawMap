# 한국관광공사 반려동물 동반여행 API 오퍼레이션 가이드

## 📋 API 오퍼레이션 개요

한국관광공사의 반려동물 동반여행 서비스(KorPetTourService)에서 제공하는 11개의 오퍼레이션과 용도를 정리합니다.

---

## 🔍 기본 검색 및 목록 조회 API

### 1. `areaBasedList` - 지역기반 관광정보 조회

- **용도**: 특정 지역/시군구 기반으로 반려동물 동반 가능 업체 목록 조회
- **주요 활용**:
  - 지역별 업체 리스트 페이지
  - 시/도 → 시/군/구 2단계 필터링
  - 관광타입별 분류 (카페, 숙소, 관광지 등)

### 2. `locationBasedList` - 위치기반 관광정보 조회

- **용도**: GPS 좌표 중심으로 반경 내 업체 검색
- **주요 활용**:
  - "내 주변" 검색 기능
  - 지도에서 특정 위치 중심 검색
  - 거리순 정렬 기능

### 3. `searchKeyword` - 키워드 검색 조회

- **용도**: 사용자 입력 키워드로 업체명/지역명 검색
- **주요 활용**:
  - 통합 검색 기능
  - 자동완성 기능
  - 업체명 직접 검색

---

## 📊 메타데이터 조회 API

### 4. `areaCode` - 지역코드 조회

- **용도**: 지역코드와 시군구코드 목록 조회
- **주요 활용**:
  - 지역 선택 드롭다운 구성
  - 지역명 ↔ 코드 매핑
  - 필터 UI 구성

### 5. `categoryCode` - 서비스분류코드 조회

- **용도**: 관광타입별 대/중/소분류 코드 조회
- **주요 활용**:
  - 카테고리 필터 구성
  - 업종별 분류 시스템
  - 상세 카테고리 필터링

---

## 🏪 상세정보 조회 API

### 6. `detailCommon` - 공통정보 조회

- **용도**: 업체의 기본 정보 (제목, 주소, 연락처, 좌표, 개요 등)
- **주요 활용**:
  - 업체 기본 정보 표시
  - 지도 마커 정보
  - 리스트 아이템 기본 데이터

### 7. `detailIntro` - 소개정보 조회

- **용도**: 업종별 상세 운영 정보 (영업시간, 주차, 요금, 편의시설 등)
- **주요 활용**:
  - 상세 페이지 운영 정보
  - 편의시설 필터링
  - 운영시간/요금 정보 표시

### 8. `detailInfo` - 반복정보 조회

- **용도**: 반복되는 상세 정보 (숙박: 객실정보, 기타: 다양한 부가정보)
- **주요 활용**:
  - 숙박시설 객실 상세 정보
  - 추가 시설/서비스 정보
  - 반복 데이터 구조 처리

### 9. `detailImage` - 이미지정보 조회

- **용도**: 업체 관련 이미지 URL 목록 조회
- **주요 활용**:
  - 이미지 갤러리 구성
  - 대표 이미지 표시
  - 상세 페이지 비주얼 콘텐츠

---

## 🐕 반려동물 전용 API

### 10. `detailPetTour` - 반려동물 동반여행 조회 ⭐

- **용도**: **핵심 API** - 반려동물 동반 관련 상세 정보
- **제공 정보**:
  - 동반 가능 동물 종류/크기
  - 동반 시 필요사항 (목줄, 입마개 등)
  - 관련 편의시설
  - 구비/구매/렌탈 가능 용품
  - 안전 관련 주의사항
- **주요 활용**:
  - 반려동물 동반 조건 표시
  - 애완동물 관련 필터링
  - 서비스 차별화 핵심 정보

### 11. `petTourSyncList` - 반려동물 동반여행 동기화 목록 조회

- **용도**: 표출 여부가 포함된 전체 목록 조회 (관리용)
- **주요 활용**:
  - 데이터 동기화 관리
  - 표출/비표출 업체 관리
  - 전체 데이터셋 관리

---

## 🎯 실제 사용 시나리오별 API 조합

### 📱 메인 페이지 초기 로딩

```
1. areaCode → 지역 선택 드롭다운 구성
2. categoryCode → 카테고리 필터 구성
3. locationBasedList → "내 주변" 업체 표시
```

### 🔍 검색/목록 페이지

```
1. searchKeyword / areaBasedList → 기본 검색 결과
2. detailCommon → 각 업체 기본 정보 (병렬 처리)
3. detailPetTour → 반려동물 동반 조건 (필터링용)
```

### 🏪 업체 상세 페이지

```
1. detailCommon → 기본 정보 (이름, 주소, 연락처)
2. detailIntro → 운영 정보 (시간, 주차, 요금)
3. detailPetTour → 반려동물 관련 정보 ⭐
4. detailImage → 사진 갤러리
5. detailInfo → 추가 시설 정보 (숙박시 객실 등)
```

### 🗺️ 지도 뷰

```
1. locationBasedList → 지도 영역 내 업체들
2. detailCommon → 마커 팝업 기본 정보
3. detailPetTour → 마커 스타일링/필터링
```

---

## ⚡ React 개발 시 핵심 포인트

### 🔥 중요사항

- **`detailPetTour`가 서비스의 핵심**: 일반 관광 정보와 차별화되는 반려동물 전용 정보
- **API 조합 필수**: 완전한 정보를 위해서는 여러 API 병렬 호출 필요
- **2단계 필터링**: API 레벨 + 클라이언트 레벨 필터링 조합

### 💡 성능 최적화 팁

- TanStack Query로 결과 캐싱
- 상세 정보는 필요할 때만 호출 (Lazy Loading)

### 🎨 UX 고려사항

- 반려동물 관련 정보를 시각적으로 강조
- 필터 결과에 반려동물 동반 조건 미리 표시
- 로딩 상태 관리 (여러 API 호출로 인한 지연)
